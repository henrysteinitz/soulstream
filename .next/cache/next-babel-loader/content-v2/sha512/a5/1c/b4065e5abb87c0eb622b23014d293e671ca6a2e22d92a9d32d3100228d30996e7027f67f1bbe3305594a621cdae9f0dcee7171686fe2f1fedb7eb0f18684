{"ast":null,"code":"\"use strict\";\n\nexports.__esModule = true;\nexports.VerseMap = exports.Verse = void 0;\n\nvar Verse =\n/** @class */\nfunction () {\n  function Verse(lines, timeInterval) {\n    this.lines = [];\n    this.timeInterval = [];\n    this.lines = lines;\n    this.timeInterval = timeInterval;\n  }\n\n  Verse.prototype.start = function () {\n    return this.timeInterval[0];\n  };\n\n  Verse.prototype.end = function () {\n    return this.timeInterval[1];\n  };\n\n  Verse.prototype.contains = function (time) {\n    return this.start() <= time && this.end() >= time;\n  };\n\n  return Verse;\n}();\n\nexports.Verse = Verse; // Get ready for linetime\n\nvar VerseMap =\n/** @class */\nfunction () {\n  function VerseMap(orderedVerses) {\n    this.verses = [];\n    this.verses = orderedVerses;\n  }\n\n  VerseMap.prototype.insert = function (verse) {\n    var lastVerse = true;\n    this.verses.forEach(function (v, i) {\n      if (verse.start() < v.start()) {\n        v.insert(verse, i);\n        lastVerse = false;\n        return;\n      }\n    });\n\n    if (lastVerse) {\n      this.verses.push(verse);\n    }\n  };\n\n  VerseMap.prototype.get = function (time) {\n    //bs search not really nes.\n    this.verses.forEach(function (verse) {\n      if (verse.contains(time)) {\n        return verse.lines;\n      }\n    });\n  };\n\n  VerseMap.prototype.getIndex = function (time) {\n    //bs search not really nes.\n    this.verses.forEach(function (verse, i) {\n      if (verse.contains(time)) {\n        return i;\n      }\n    });\n  };\n\n  return VerseMap;\n}();\n\nexports.VerseMap = VerseMap;","map":{"version":3,"sources":["/Users/henrysteinitz/Desktop/soulstream/state/lyrics.js"],"names":["exports","__esModule","VerseMap","Verse","lines","timeInterval","prototype","start","end","contains","time","orderedVerses","verses","insert","verse","lastVerse","forEach","v","i","push","get","getIndex"],"mappings":"AAAA;;AACAA,OAAO,CAACC,UAAR,GAAqB,IAArB;AACAD,OAAO,CAACE,QAAR,GAAmBF,OAAO,CAACG,KAAR,GAAgB,KAAK,CAAxC;;AACA,IAAIA,KAAK;AAAG;AAAe,YAAY;AACnC,WAASA,KAAT,CAAeC,KAAf,EAAsBC,YAAtB,EAAoC;AAChC,SAAKD,KAAL,GAAa,EAAb;AACA,SAAKC,YAAL,GAAoB,EAApB;AACA,SAAKD,KAAL,GAAaA,KAAb;AACA,SAAKC,YAAL,GAAoBA,YAApB;AACH;;AACDF,EAAAA,KAAK,CAACG,SAAN,CAAgBC,KAAhB,GAAwB,YAAY;AAChC,WAAO,KAAKF,YAAL,CAAkB,CAAlB,CAAP;AACH,GAFD;;AAGAF,EAAAA,KAAK,CAACG,SAAN,CAAgBE,GAAhB,GAAsB,YAAY;AAC9B,WAAO,KAAKH,YAAL,CAAkB,CAAlB,CAAP;AACH,GAFD;;AAGAF,EAAAA,KAAK,CAACG,SAAN,CAAgBG,QAAhB,GAA2B,UAAUC,IAAV,EAAgB;AACvC,WAAO,KAAKH,KAAL,MAAgBG,IAAhB,IAAwB,KAAKF,GAAL,MAAcE,IAA7C;AACH,GAFD;;AAGA,SAAOP,KAAP;AACH,CAjB0B,EAA3B;;AAkBAH,OAAO,CAACG,KAAR,GAAgBA,KAAhB,C,CACA;;AACA,IAAID,QAAQ;AAAG;AAAe,YAAY;AACtC,WAASA,QAAT,CAAkBS,aAAlB,EAAiC;AAC7B,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKA,MAAL,GAAcD,aAAd;AACH;;AACDT,EAAAA,QAAQ,CAACI,SAAT,CAAmBO,MAAnB,GAA4B,UAAUC,KAAV,EAAiB;AACzC,QAAIC,SAAS,GAAG,IAAhB;AACA,SAAKH,MAAL,CAAYI,OAAZ,CAAoB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChC,UAAIJ,KAAK,CAACP,KAAN,KAAgBU,CAAC,CAACV,KAAF,EAApB,EAA+B;AAC3BU,QAAAA,CAAC,CAACJ,MAAF,CAASC,KAAT,EAAgBI,CAAhB;AACAH,QAAAA,SAAS,GAAG,KAAZ;AACA;AACH;AACJ,KAND;;AAOA,QAAIA,SAAJ,EAAe;AACX,WAAKH,MAAL,CAAYO,IAAZ,CAAiBL,KAAjB;AACH;AACJ,GAZD;;AAaAZ,EAAAA,QAAQ,CAACI,SAAT,CAAmBc,GAAnB,GAAyB,UAAUV,IAAV,EAAgB;AACrC;AACA,SAAKE,MAAL,CAAYI,OAAZ,CAAoB,UAAUF,KAAV,EAAiB;AACjC,UAAIA,KAAK,CAACL,QAAN,CAAeC,IAAf,CAAJ,EAA0B;AACtB,eAAOI,KAAK,CAACV,KAAb;AACH;AACJ,KAJD;AAKH,GAPD;;AAQAF,EAAAA,QAAQ,CAACI,SAAT,CAAmBe,QAAnB,GAA8B,UAAUX,IAAV,EAAgB;AAC1C;AACA,SAAKE,MAAL,CAAYI,OAAZ,CAAoB,UAAUF,KAAV,EAAiBI,CAAjB,EAAoB;AACpC,UAAIJ,KAAK,CAACL,QAAN,CAAeC,IAAf,CAAJ,EAA0B;AACtB,eAAOQ,CAAP;AACH;AACJ,KAJD;AAKH,GAPD;;AAQA,SAAOhB,QAAP;AACH,CAnC6B,EAA9B;;AAoCAF,OAAO,CAACE,QAAR,GAAmBA,QAAnB","sourcesContent":["\"use strict\";\nexports.__esModule = true;\nexports.VerseMap = exports.Verse = void 0;\nvar Verse = /** @class */ (function () {\n    function Verse(lines, timeInterval) {\n        this.lines = [];\n        this.timeInterval = [];\n        this.lines = lines;\n        this.timeInterval = timeInterval;\n    }\n    Verse.prototype.start = function () {\n        return this.timeInterval[0];\n    };\n    Verse.prototype.end = function () {\n        return this.timeInterval[1];\n    };\n    Verse.prototype.contains = function (time) {\n        return this.start() <= time && this.end() >= time;\n    };\n    return Verse;\n}());\nexports.Verse = Verse;\n// Get ready for linetime\nvar VerseMap = /** @class */ (function () {\n    function VerseMap(orderedVerses) {\n        this.verses = [];\n        this.verses = orderedVerses;\n    }\n    VerseMap.prototype.insert = function (verse) {\n        var lastVerse = true;\n        this.verses.forEach(function (v, i) {\n            if (verse.start() < v.start()) {\n                v.insert(verse, i);\n                lastVerse = false;\n                return;\n            }\n        });\n        if (lastVerse) {\n            this.verses.push(verse);\n        }\n    };\n    VerseMap.prototype.get = function (time) {\n        //bs search not really nes.\n        this.verses.forEach(function (verse) {\n            if (verse.contains(time)) {\n                return verse.lines;\n            }\n        });\n    };\n    VerseMap.prototype.getIndex = function (time) {\n        //bs search not really nes.\n        this.verses.forEach(function (verse, i) {\n            if (verse.contains(time)) {\n                return i;\n            }\n        });\n    };\n    return VerseMap;\n}());\nexports.VerseMap = VerseMap;\n"]},"metadata":{},"sourceType":"script"}